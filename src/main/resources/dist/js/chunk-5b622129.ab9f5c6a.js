(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b622129"],{"119c":function(e,t,n){},"923d":function(e,t,n){"use strict";var a=n("b496"),s=n.n(a);s.a},ae36:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"积分兑换","right-text":"领券中心",fixed:"","left-arrow":""},on:{"click-left":function(t){return e.$toPage(-1)},"click-right":function(t){return e.$toPage("toCoupons")}}}),e._m(0),n("div",[n("exchange",{attrs:{exchanges:e.exchanges,btn:"立即兑换"},on:{exchangeFlag:e.exchangeFlag}})],1)],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exchange_bg"},[a("img",{attrs:{src:n("c0c8"),alt:""}})])}],c=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"coupons"},e._l(e.exchanges,function(t,a){return n("div",{key:a,staticClass:"main"},[n("div",{staticClass:"title"},[e._v(e._s(t.rulename))]),n("div",{staticClass:"content"},[n("div",{staticClass:"couponsText"},[e._l(t.ladderVOS,function(a,s){return n("p",{key:s},[e._v("满"+e._s(a.ladamt)+"元"+e._s(t.reduce)+e._s(a.offers)+e._s(t.symbol))])}),n("p",{staticClass:"time"},[e._v("需 "+e._s(1e3*t.ladderVOS[0].offer)+" 积分兑换")])],2),n("div",{staticClass:"btn",on:{click:function(n){return e.receive(t)}}},[e._v(e._s(e.btn))])])])}),0)}),r=[],o={props:["exchanges","btn"],methods:{receive:function(e){var t=this;"立即兑换"===this.btn&&JNB.query({serverName:"orderServer"+this.$ser_in(this.$loadUserInfo().comp.storeId),cls:"CouponRevModule",method:"revExcgCoupon",params:e,callback:function(e){var n=JSON.parse(e);200===n.code?(t.$emit("exchangeFlag",!0),t.$toast("兑换成功！")):t.$toast(n.message)}})}}},i=o,u=(n("923d"),n("2877")),l=Object(u["a"])(i,c,r,!1,null,"a423196c",null),d=l.exports,f={data:function(){return{exchanges:[],count:0}},components:{exchange:d},computed:{userInfo:function(){return this.$loadUserInfo()}},mounted:function(){this.getExchanges()},methods:{getExchanges:function(){var e=this;JNB.query({serverName:"discountServer",cls:"CouponManageModule",method:"queryCouponExcgPub",params:{compid:this.userInfo.comp.storeId},callback:function(t){var n=JSON.parse(t);200===n.code?(e.exchanges=n.data,0===e.exchanges.length&&e.$toast("未查询到优惠券哦！"),e.exchanges.forEach(function(e){e.ladderVOS[0].offers=e.ladderVOS[0].offer,2110===e.brulecode?(e.reduce="减",e.symbol="元"):2120===e.brulecode?(e.reduce="包邮",e.ladderVOS[0].offers=""):(e.reduce="",e.symbol="折")})):e.$toast.fail(n.message)}})},exchangeFlag:function(){this.getExchanges()}}},g=f,h=(n("ede0"),Object(u["a"])(g,a,s,!1,null,"36111e66",null));t["default"]=h.exports},b496:function(e,t,n){},c0c8:function(e,t,n){e.exports=n.p+"img/exchange_bg.6d717e4e.png"},ede0:function(e,t,n){"use strict";var a=n("119c"),s=n.n(a);s.a}}]);
//# sourceMappingURL=chunk-5b622129.ab9f5c6a.js.map