(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc66cf9a"],{"57c6":function(e,t,s){"use strict";var o=s("93cd"),n=s.n(o);n.a},"93cd":function(e,t,s){},d0d4:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("van-nav-bar",{attrs:{title:"修改手机号码","left-text":"返回","left-arrow":""},on:{"click-left":function(t){return e.$toPage(-1)}}},[s("van-icon",{attrs:{slot:"left",name:"arrow-left",size:"20px",color:"#666666"},slot:"left"})],1),s("van-swipe",{ref:"step_index",staticClass:"swipe_box",attrs:{"indicator-color":"white",touchable:!1,"show-indicators":!1}},[s("van-swipe-item",[s("van-field",{staticClass:"input_box",attrs:{label:"原手机号码",type:"tel",readonly:"",size:"large"},model:{value:e.oldUserPhoneTxt,callback:function(t){e.oldUserPhoneTxt=t},expression:"oldUserPhoneTxt"}}),s("van-field",{staticClass:"input_box",attrs:{center:"",clearable:"",size:"large",label:"短信验证码",placeholder:"输入短信验证码",type:"tel"},model:{value:e.oldSms,callback:function(t){e.oldSms=t},expression:"oldSms"}},[s("van-button",{attrs:{slot:"button",size:"small",type:"primary"},on:{click:e.get_sms_0},slot:"button"},[e._v("\n          发送验证码 "+e._s(e.time_0)+"\n        ")])],1),s("van-field",{staticClass:"input_box",attrs:{label:"新手机号码",placeholder:"输入新手机号码",type:"tel",size:"large","error-message":e.message},on:{blur:e.blurPhone,focus:e.focusPhone},model:{value:e.newUserPhone,callback:function(t){e.newUserPhone=t},expression:"newUserPhone"}}),s("div",{staticClass:"fun_btn_Accomplish",on:{click:e.fun_btn_Accomplish}},[e._v("完成")]),s("p",{staticClass:"in_point"},[e._v("温馨提示：")]),s("p",{staticClass:"in_point"},[e._v("手机号码修改成功后需要使用新的手机号码进行登录。")])],1)],1)],1)},n=[],a={data:function(){return{oldUserPhone:"",oldUserPhoneTxt:"",oldSms:"",newUserPhone:"",title_tag:"title_active_0",flag_0:!0,time_0:"",message:""}},mounted:function(){this.get_store_oldUserPhone()},methods:{fun_btn_Accomplish:function(){var e=this;this.regist_test()&&JNB.query({serverName:"userServer",cls:"LoginRegistrationModule",method:"changeUserInfo",params:{oldPhone:this.oldUserPhone,newPhone:this.newUserPhone,smsCode:this.oldSms},callback:function(t){var s=JSON.parse(t);200===s.code?(e.$toast(s.data),e.$router.push({name:"login"})):e.$toast(s.message)}})},regist_test:function(){return this.newUserPhone&&this.newUserPhone?/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.newUserPhone)?!!this.oldSms||(this.$toast("请填写验证码！"),!1):(this.$toast("请输入正确的手机号码！"),!1):(this.$toast("新手机号码不能为空！"),!1)},get_store_oldUserPhone:function(){var e=this;JNB.query({serverName:"userServer",cls:"LoginRegistrationModule",method:"getStoreSession",callback:function(t){var s=JSON.parse(t);200===s.code?(e.oldUserPhone=s.data.phone,e.oldUserPhoneTxt="".concat(e.oldUserPhone.substring(0,3),"****").concat(e.oldUserPhone.substring(7,11))):e.$toast(s.message)}})},get_sms_0:function(){var e=this;this.time_0=60;var t=setInterval(function(){e.time_0--,e.time_0<=0&&(clearInterval(t),e.time_0="")},1e3);JNB.query({serverName:"userServer",cls:"LoginRegistrationModule",method:"obtainVerificationCode",params:{phone:this.oldUserPhone,type:3},callback:function(t){var s=JSON.parse(t);s.code,e.$toast(s.data)}})},blurPhone:function(){var e=this;JNB.query({serverName:"userServer",cls:"LoginRegistrationModule",method:"checkPhoneExist",params:{phone:this.newUserPhone},callback:function(t){var s=JSON.parse(t);200!==s.code&&(e.message=s.message)}})},focusPhone:function(){this.message=""}}},r=a,i=(s("57c6"),s("2877")),l=Object(i["a"])(r,o,n,!1,null,"1a18316e",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-dc66cf9a.31457ca1.js.map