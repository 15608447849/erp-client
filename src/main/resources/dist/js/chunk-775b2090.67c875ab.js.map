{"version":3,"sources":["webpack:///./src/views/user/resetPassword.vue?e3bd","webpack:///./src/views/user/resetPassword.vue?020f","webpack:///src/views/user/resetPassword.vue","webpack:///./src/views/user/resetPassword.vue?ba74","webpack:///./src/views/user/resetPassword.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_resetPassword_vue_vue_type_style_index_0_id_dc8eff96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_resetPassword_vue_vue_type_style_index_0_id_dc8eff96_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","on","click-left","$event","$toPage","slot","name","size","color","label","placeholder","type","model","value","callback","$$v","userPhone","expression","center","clearable","sms","click","get_sms","directives","rawName","time","_v","_s","$t","password","block","fun_btn_reset","staticRenderFns","resetPasswordvue_type_script_lang_js_","data","flag","methods","_this","JNB","_requestNative","_transfer","JSON","stringify","oldPhone","smsCode","newPassword","dataStr","parse","code","$toast","$router","push","message","_this2","test","phone","timer","setInterval","clearInterval","user_resetPasswordvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-775b2090.67c875ab.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=style&index=0&id=dc8eff96&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=style&index=0&id=dc8eff96&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resetPassword\"},[_c('van-nav-bar',{attrs:{\"title\":\"忘记密码\"},on:{\"click-left\":function($event){return _vm.$toPage(-1)}}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"name\":\"arrow-left\",\"size\":\"20px\",\"color\":\"#666666\"},slot:\"left\"})],1),_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"账号\",\"placeholder\":\"输入手机号码\",\"type\":\"tel\"},model:{value:(_vm.userPhone),callback:function ($$v) {_vm.userPhone=$$v},expression:\"userPhone\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"短信验证码\",\"placeholder\":\"输入短信证码\",\"type\":\"tel\"},model:{value:(_vm.sms),callback:function ($$v) {_vm.sms=$$v},expression:\"sms\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.get_sms},slot:\"button\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.time),expression:\"!time\"}]},[_vm._v(_vm._s(_vm.$t(\"messages.regist.code\")))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.time),expression:\"time\"}]},[_vm._v(_vm._s(_vm.time))])])],1),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"设置登录密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('van-button',{staticClass:\"button\",attrs:{\"type\":\"info\",\"size\":\"normal\",\"block\":\"\"},on:{\"click\":_vm.fun_btn_reset}},[_vm._v(\"\\n    确认\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"resetPassword\">\r\n    <van-nav-bar\r\n      title=\"忘记密码\"\r\n      @click-left=\"$toPage(-1)\"\r\n      >\r\n      <van-icon name=\"arrow-left\" size=\"20px\" color=\"#666666\" slot=\"left\" />\r\n    </van-nav-bar>\r\n    <van-cell-group>\r\n      <van-field\r\n        v-model=\"userPhone\"\r\n        label=\"账号\"\r\n        placeholder=\"输入手机号码\"\r\n        type=\"tel\"\r\n      />\r\n      <van-field\r\n        v-model=\"sms\"\r\n        center\r\n        clearable\r\n        label=\"短信验证码\"\r\n        placeholder=\"输入短信证码\"\r\n        type=\"tel\"\r\n      >\r\n        <van-button slot=\"button\" size=\"small\" type=\"primary\" @click=\"get_sms\">\r\n          <span v-show=\"!time\">{{ $t(\"messages.regist.code\") }}</span>\r\n          <span v-show=\"time\">{{ time }}</span>\r\n        </van-button>\r\n      </van-field>\r\n      <van-field\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        label=\"密码\"\r\n        placeholder=\"设置登录密码\"\r\n      />\r\n    </van-cell-group>\r\n    <van-button class=\"button\" type=\"info\" size=\"normal\" block @click=\"fun_btn_reset\">\r\n      确认\r\n    </van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      userPhone: '',\r\n      sms: '',\r\n      password: '',\r\n      time: \"\",\r\n      flag: true\r\n    }\r\n  },\r\n  methods: {\r\n    fun_btn_reset() {\r\n      JNB._requestNative(\r\n        JNB._transfer('userServer', 'LoginRegistrationModule', 'forgetPassword'),\r\n        JSON.stringify({\r\n          oldPhone: this.userPhone,\r\n          smsCode: this.sms,\r\n          newPassword: this.password\r\n        }),\r\n        (data) => {\r\n\r\n          const dataStr = JSON.parse(data)\r\n          if (dataStr.code === 200) {\r\n            this.$toast(dataStr.data)\r\n            this.$router.push({\r\n              name: 'login'\r\n            })\r\n          } else {\r\n            this.$toast(dataStr.message)\r\n          }\r\n        })\r\n    },\r\n    get_sms() {\r\n      if (!(/^1(3|4|5|6|7|8|9)\\d{9}$/.test(this.userPhone))) {\r\n        this.$toast('请输入正确的手机号码！')\r\n        return\r\n      } else if(this.flag){\r\n        JNB._requestNative(\r\n          JNB._transfer('userServer', 'LoginRegistrationModule', 'obtainVerificationCode'),\r\n          JSON.stringify({\r\n            phone: this.userPhone,\r\n            type: 2\r\n          }),\r\n          (data) => {\r\n\r\n            const dataStr = JSON.parse(data)\r\n            if (dataStr.code === 200) {\r\n              this.$toast(dataStr.data)\r\n            } else {\r\n              this.$toast(dataStr.data)\r\n            }\r\n          })\r\n          this.flag = false;\r\n          this.time = 60;\r\n          var timer = setInterval(() => {\r\n            this.time--;\r\n            if (this.time <= 0) {\r\n              clearInterval(timer);\r\n              this.time = \"\";\r\n              this.flag = true;\r\n            }\r\n          }, 1000);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.resetPassword .van-cell-group{\r\n  margin: 20px 0;\r\n}\r\n.resetPassword .van-cell-group .van-field{\r\n  padding: 30px;\r\n}\r\n.resetPassword .van-button{\r\n  border-radius: 30px;\r\n}\r\n.resetPassword .button{\r\n  width: 710px;\r\n  border-radius: 30px;\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resetPassword.vue?vue&type=template&id=dc8eff96&scoped=true&\"\nimport script from \"./resetPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./resetPassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./resetPassword.vue?vue&type=style&index=0&id=dc8eff96&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dc8eff96\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}