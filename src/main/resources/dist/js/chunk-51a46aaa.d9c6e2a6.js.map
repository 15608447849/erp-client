{"version":3,"sources":["webpack:///./src/views/user/myFoot.vue?21d1","webpack:///src/views/user/myFoot.vue","webpack:///./src/views/user/myFoot.vue?eee4","webpack:///./src/views/user/myFoot.vue","webpack:///./src/views/user/myFoot.vue?0925"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","fixed","on","click-left","$event","$toPage","click-right","onClickright","slot","name","size","color","staticStyle","font-size","_v","position","overlay","model","value","callback","$$v","show","expression","type","max-date","current","min-date","minDate","visible-item-count","count","cancel","confirm","currentDate","_l","good","index","key","_s","date","item","i","right-width","price","vatp","desc","manuName","prodname","lazy-load","thumb","imgURl","centered","click","toDetail","stopPropagation","SaveShopCart","square","text","onClose","goods","length","_e","staticRenderFns","myFootvue_type_script_lang_js_","data","Date","nowDate","computed","mounted","setMonth","getMonth","methods","commit","year","getFullYear","month","getDate","getFoot","_this","JNB","query","serverName","$ser_in","$loadUserInfo","comp","storeId","cls","method","params","result","JSON","parse","code","forEach","list","push","$toast","fail","message","$request_img","context","arr","_this2","$manageGoodNum","sku","then","$router","path","user_myFootvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_myFoot_vue_vue_type_style_index_0_id_2b3ee4ca_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_myFoot_vue_vue_type_style_index_0_id_2b3ee4ca_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-51a46aaa.d9c6e2a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myFoot\"},[_c('van-nav-bar',{attrs:{\"title\":\"我的足迹\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$toPage(-1)},\"click-right\":_vm.onClickright}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"name\":\"arrow-left\",\"size\":\"24px\",\"color\":\"#666666\"},slot:\"left\"}),_c('span',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(\"日期\")])],1),_c('van-popup',{attrs:{\"position\":\"bottom\",\"overlay\":false},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"max-date\":_vm.current,\"min-date\":_vm.minDate,\"visible-item-count\":_vm.count},on:{\"cancel\":_vm.cancel,\"confirm\":_vm.confirm},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_vm._l((_vm.goods),function(good,index){return _c('div',{key:index,staticClass:\"content\"},[_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(good.date))]),_vm._l((good.list),function(item,i){return _c('div',{key:i,staticClass:\"content\"},[_c('van-swipe-cell',{attrs:{\"right-width\":60}},[_c('van-cell',[_c('van-card',{attrs:{\"price\":item.vatp == -1 ? '未认证' : item.vatp == -2 ? '未签约' : item.vatp / 100,\"desc\":item.manuName,\"title\":item.prodname,\"lazy-load\":\"\",\"thumb\":item.imgURl,\"centered\":\"\"},on:{\"click\":function($event){return _vm.toDetail(i,index)}}},[_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('van-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.SaveShopCart(i,index)}}},[_vm._v(\"\\n                加入采购单\\n              \")])],1)])],1),_c('van-button',{staticClass:\"btnDel\",attrs:{\"slot\":\"right\",\"type\":\"danger\",\"square\":\"\",\"text\":\"删除\"},on:{\"click\":function($event){return _vm.onClose(index)}},slot:\"right\"})],1)],1)})],2)}),(_vm.goods.length == 0)?_c('div',{staticClass:\"bgImg\"}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"myFoot\">\r\n    <van-nav-bar\r\n      title=\"我的足迹\"\r\n      fixed\r\n      @click-left=\"$toPage(-1)\"\r\n      @click-right=\"onClickright\"\r\n      >\r\n      <van-icon name=\"arrow-left\" size=\"24px\" color=\"#666666\" slot=\"left\" />\r\n      <span slot=\"right\" style=\"font-size: 15px\">日期</span>\r\n    </van-nav-bar>\r\n    <van-popup v-model=\"show\" position=\"bottom\" :overlay=\"false\">\r\n      <van-datetime-picker\r\n        v-model=\"currentDate\"\r\n        type=\"date\"\r\n        :max-date=\"current\"\r\n        :min-date=\"minDate\"\r\n        :visible-item-count=\"count\"\r\n        @cancel=\"cancel\"\r\n        @confirm=\"confirm\"\r\n      />\r\n    </van-popup>\r\n    <div v-for=\"(good, index) in goods\" :key=\"index\" class=\"content\">\r\n      <p class=\"time\">{{ good.date }}</p>\r\n      <div v-for=\"(item, i) in good.list\" :key=\"i\" class=\"content\">\r\n        <van-swipe-cell :right-width=\"60\">\r\n          <van-cell>\r\n            <van-card\r\n              :price=\"item.vatp == -1 ? '未认证' : item.vatp == -2 ? '未签约' : item.vatp / 100\"\r\n              :desc=\"item.manuName\"\r\n              :title=\"item.prodname\"\r\n              lazy-load\r\n              :thumb=\"item.imgURl\"\r\n              centered\r\n              @click=\"toDetail(i,index)\"\r\n            >\r\n              <div slot=\"footer\">\r\n                <van-button size=\"mini\" @click.stop=\"SaveShopCart(i,index)\">\r\n                  加入采购单\r\n                </van-button>\r\n              </div>\r\n            </van-card>\r\n          </van-cell>\r\n          <van-button\r\n            class=\"btnDel\"\r\n            slot=\"right\"\r\n            type=\"danger\"\r\n            square\r\n            text=\"删除\"\r\n            @click=\"onClose(index)\"\r\n          />\r\n        </van-swipe-cell>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"goods.length == 0\" class=\"bgImg\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      show: false,\r\n      currentDate: new Date(),\r\n      minDate: 0,\r\n      count: 3,\r\n      current: new Date(),\r\n      goods: []\r\n      ,\r\n      nowDate: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  mounted() {\r\n    this.confirm();\r\n    var date = new Date()\r\n    date.setMonth(date.getMonth() - 2)\r\n    this.minDate = date\r\n  },\r\n  methods: {\r\n    //  显示日期\r\n    onClickright() {\r\n      this.show = true;\r\n    },\r\n    //  取消\r\n    cancel() {\r\n      this.show = false;\r\n    },\r\n    //  选择日期\r\n    commit() {\r\n      this.show = false;\r\n    },\r\n    //  选择日期\r\n    confirm() {\r\n      var year = this.currentDate.getFullYear();\r\n      var month = this.currentDate.getMonth() + 1;\r\n      var date = this.currentDate.getDate();\r\n      month = month < 10 ? \"0\" + month : month;\r\n      date = date < 10 ? \"0\" + date : date;\r\n      this.nowDate = year + \"-\" + month + \"-\" + date;\r\n\r\n      this.getFoot();\r\n      this.show = false;\r\n    },\r\n    //  获取足迹\r\n    getFoot() {\r\n      JNB.query({\r\n        serverName: \"orderServer\" + this.$ser_in(this.$loadUserInfo().comp.storeId),\r\n        cls: \"MyFootprintModule\",\r\n        method: \"query\",\r\n        params: {\r\n          date: this.nowDate\r\n        },\r\n        callback: data => {\r\n          let result = JSON.parse(data);\r\n          if (result.code == 200 && result.data) {\r\n            this.goods = []\r\n            result.data.forEach(data => {\r\n              if(data.list.length > 0){\r\n                this.goods.push(data);\r\n              }\r\n            })\r\n          } else {\r\n            this.$toast.fail(result.message);\r\n          }\r\n\r\n          this.goods.forEach((data) => {\r\n            this.$request_img({//获取商品图片\r\n              context: this,\r\n              arr: data.list\r\n            })\r\n          })\r\n        }\r\n      });\r\n    },\r\n    //  加入购物车\r\n    SaveShopCart(i,index) {\r\n      this.$manageGoodNum(this, { sku: this.goods[index].list[i].sku }, -2).then(()=>{\r\n        this.$toast('添加成功！')\r\n      })\r\n    },\r\n    toDetail(i,index) {\r\n      this.$router.push({\r\n        path: \"goodsDetail\",\r\n        query: {\r\n          sku: this.goods[index].list[i].sku\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\np{\r\n  margin: 10px 0;\r\n}\r\n.myFoot{\r\n  padding-top: 90px;\r\n}\r\n.myFoot .content {\r\n  width: 100%;\r\n  margin-top: 10px;\r\n}\r\n.myFoot .time {\r\n  padding: 0 20px;\r\n  color: rgba(153, 153, 153, 1);\r\n}\r\n.myFoot .content .btnDel {\r\n  height: 100%;\r\n}\r\n.myFoot .content .van-cell{\r\n  background-color: transparent;\r\n}\r\n.myFoot .content .van-cell .van-card{\r\n  border-radius: 10px;\r\n}\r\n.myFoot .bgImg{\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 80vh;\r\n  background: url('..\\..\\assets\\noneImg\\nofoot.png') no-repeat;\r\n  background-position: center center;\r\n  background-size: 50%;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myFoot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myFoot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myFoot.vue?vue&type=template&id=2b3ee4ca&scoped=true&\"\nimport script from \"./myFoot.vue?vue&type=script&lang=js&\"\nexport * from \"./myFoot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myFoot.vue?vue&type=style&index=0&id=2b3ee4ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b3ee4ca\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myFoot.vue?vue&type=style&index=0&id=2b3ee4ca&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myFoot.vue?vue&type=style&index=0&id=2b3ee4ca&scoped=true&lang=css&\""],"sourceRoot":""}