{"version":3,"sources":["webpack:///./src/views/user/myInvoice.vue?30e3","webpack:///src/views/user/myInvoice.vue","webpack:///./src/views/user/myInvoice.vue?edbc","webpack:///./src/views/user/myInvoice.vue","webpack:///./src/views/user/myInvoice.vue?94b6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","on","click-left","$event","$toPage","click-right","editInfo","slot","name","size","color","staticStyle","font-size","_v","_s","right","click","tabsClick","disabled","label","placeholder","label-width","border","model","value","callback","$$v","storeName","expression","address","type","invoiceInfo","$set","mask","maxlength","error-message","message","focus","focusPhone","account","focusAccount","email","directives","rawName","center","clearable","emailCode","sendEmail","time","tabs","btn_myInvoice","saveEmail","staticRenderFns","myInvoicevue_type_script_lang_js_","data","$loadUserInfo","comp","flag","mounted","getInvoiceInfo","methods","test","tel","length","_this","JNB","query","serverName","cls","method","params","bankers","result","JSON","parse","code","$toast","fail","_this2","i","_this3","reg","timer","setInterval","clearInterval","_this4","$router","go","user_myInvoicevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_myInvoice_vue_vue_type_style_index_0_id_ee895f38_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_myInvoice_vue_vue_type_style_index_0_id_ee895f38_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-2e152860.58f6a4ea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myInvoice\"},[_c('van-nav-bar',{attrs:{\"title\":\"我的发票\"},on:{\"click-left\":function($event){return _vm.$toPage(-1)},\"click-right\":_vm.editInfo}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"name\":\"arrow-left\",\"size\":\"24px\",\"color\":\"#666666\"},slot:\"left\"}),_c('span',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(_vm._s(_vm.right))])],1),_c('van-tabs',{on:{\"click\":_vm.tabsClick}},[_c('van-tab',{attrs:{\"title\":\"开票信息\"}},[_c('van-cell-group',[_c('van-field',{attrs:{\"disabled\":\"\",\"label\":\"公司名称\",\"placeholder\":\"请输入公司名称\",\"size\":\"large\",\"label-width\":\"120px\",\"border\":false},model:{value:(_vm.storeName),callback:function ($$v) {_vm.storeName=$$v},expression:\"storeName\"}}),_c('van-field',{attrs:{\"disabled\":\"\",\"label\":\"注册地址\",\"placeholder\":\"请输入药店注册地址\",\"size\":\"large\",\"label-width\":\"120px\",\"border\":false},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}}),_c('van-field',{attrs:{\"disabled\":\"\",\"label\":\"纳税人识别号\",\"placeholder\":\"纳税人识别号\",\"size\":\"large\",\"label-width\":\"120px\",\"type\":\"tel\",\"border\":false},model:{value:(_vm.invoiceInfo.taxpayer),callback:function ($$v) {_vm.$set(_vm.invoiceInfo, \"taxpayer\", $$v)},expression:\"invoiceInfo.taxpayer\"}}),_c('van-field',{attrs:{\"disabled\":_vm.mask,\"label\":\"注册电话\",\"placeholder\":\"请输入注册电话\",\"maxlength\":\"11\",\"size\":\"large\",\"label-width\":\"120px\",\"type\":\"tel\",\"error-message\":_vm.message,\"border\":false},on:{\"focus\":_vm.focusPhone},model:{value:(_vm.invoiceInfo.tel),callback:function ($$v) {_vm.$set(_vm.invoiceInfo, \"tel\", $$v)},expression:\"invoiceInfo.tel\"}}),_c('van-field',{attrs:{\"disabled\":_vm.mask,\"label\":\"开户银行\",\"placeholder\":\"请输入开户银行\",\"maxlength\":\"20\",\"size\":\"large\",\"label-width\":\"120px\",\"border\":false},model:{value:(_vm.invoiceInfo.bankers),callback:function ($$v) {_vm.$set(_vm.invoiceInfo, \"bankers\", $$v)},expression:\"invoiceInfo.bankers\"}}),_c('van-field',{attrs:{\"disabled\":_vm.mask,\"label\":\"银行账号\",\"placeholder\":\"请输入银行账号\",\"maxlength\":\"30\",\"size\":\"large\",\"label-width\":\"120px\",\"type\":\"tel\",\"border\":false,\"error-message\":_vm.account},on:{\"focus\":_vm.focusAccount},model:{value:(_vm.invoiceInfo.account),callback:function ($$v) {_vm.$set(_vm.invoiceInfo, \"account\", $$v)},expression:\"invoiceInfo.account\"}})],1)],1),_c('van-tab',{attrs:{\"title\":\"发票收件邮箱\"}},[_c('van-cell-group',[_c('van-field',{attrs:{\"label\":\"电子邮箱\",\"disabled\":_vm.mask,\"placeholder\":\"xx@xx.com\",\"size\":\"large\",\"label-width\":\"120px\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('van-cell-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mask),expression:\"!mask\"}]},[_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"size\":\"large\",\"label-width\":\"120px\",\"label\":\"验证码\",\"placeholder\":\"请输入邮箱验证码\"},model:{value:(_vm.emailCode),callback:function ($$v) {_vm.emailCode=$$v},expression:\"emailCode\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.sendEmail},slot:\"button\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.time),expression:\"!time\"}]},[_vm._v(\"发送验证码\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.time),expression:\"time\"}]},[_vm._v(_vm._s(_vm.time))])])],1)],1)],1)],1),_c('van-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabs == 0),expression:\"tabs == 0\"}],staticClass:\"button\",attrs:{\"type\":\"danger\",\"size\":\"large\",\"disabled\":_vm.mask},on:{\"click\":_vm.btn_myInvoice}},[_vm._v(\"\\n    保存\\n  \")]),_c('van-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabs == 1),expression:\"tabs == 1\"}],staticClass:\"button\",attrs:{\"type\":\"danger\",\"size\":\"large\",\"disabled\":_vm.email && _vm.emailCode ? false : true},on:{\"click\":_vm.saveEmail}},[_vm._v(\"\\n    保存\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"myInvoice\">\r\n    <van-nav-bar\r\n      title=\"我的发票\"\r\n      @click-left=\"$toPage(-1)\"\r\n      @click-right=\"editInfo\"\r\n      >\r\n      <van-icon name=\"arrow-left\" size=\"24px\" color=\"#666666\" slot=\"left\" />\r\n      <span slot=\"right\" style=\"font-size: 15px\">{{ right }}</span>\r\n    </van-nav-bar>\r\n    <van-tabs @click=\"tabsClick\">\r\n      <van-tab title=\"开票信息\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"storeName\"\r\n            disabled\r\n            label=\"公司名称\"\r\n            placeholder=\"请输入公司名称\"\r\n            size=\"large\"\r\n            label-width=\"120px\"\r\n            :border=\"false\"\r\n          />\r\n          <van-field\r\n            v-model=\"address\"\r\n            disabled\r\n            label=\"注册地址\"\r\n            placeholder=\"请输入药店注册地址\"\r\n            size=\"large\"\r\n            label-width=\"120px\"\r\n            :border=\"false\"\r\n          />\r\n          <van-field\r\n            v-model=\"invoiceInfo.taxpayer\"\r\n            disabled\r\n            label=\"纳税人识别号\"\r\n            placeholder=\"纳税人识别号\"\r\n            size=\"large\"\r\n            label-width=\"120px\"\r\n            type=\"tel\"\r\n            :border=\"false\"\r\n          />\r\n          <van-field\r\n            v-model=\"invoiceInfo.tel\"\r\n            :disabled=\"mask\"\r\n            label=\"注册电话\"\r\n            placeholder=\"请输入注册电话\"\r\n            maxlength=\"11\"\r\n            size=\"large\"\r\n            label-width=\"120px\"\r\n            type=\"tel\"\r\n            :error-message=\"message\"\r\n            @focus=\"focusPhone\"\r\n            :border=\"false\"\r\n          />\r\n          <van-field\r\n            v-model=\"invoiceInfo.bankers\"\r\n            :disabled=\"mask\"\r\n            label=\"开户银行\"\r\n            placeholder=\"请输入开户银行\"\r\n            maxlength=\"20\"\r\n            size=\"large\"\r\n            label-width=\"120px\"\r\n            :border=\"false\"\r\n          />\r\n          <van-field\r\n            v-model=\"invoiceInfo.account\"\r\n            :disabled=\"mask\"\r\n            label=\"银行账号\"\r\n            placeholder=\"请输入银行账号\"\r\n            maxlength=\"30\"\r\n            size=\"large\"\r\n            label-width=\"120px\"\r\n            type=\"tel\"\r\n            :border=\"false\"\r\n            :error-message=\"account\"\r\n            @focus=\"focusAccount\"\r\n          />\r\n        </van-cell-group>\r\n      </van-tab>\r\n      <van-tab title=\"发票收件邮箱\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"email\"\r\n            label=\"电子邮箱\"\r\n            :disabled=\"mask\"\r\n            placeholder=\"xx@xx.com\"\r\n            size=\"large\"\r\n            label-width=\"120px\"\r\n          />\r\n        </van-cell-group>\r\n        <van-cell-group v-show=\"!mask\">\r\n          <van-field\r\n            v-model=\"emailCode\"\r\n            center\r\n            clearable\r\n            size=\"large\"\r\n            label-width=\"120px\"\r\n            label=\"验证码\"\r\n            placeholder=\"请输入邮箱验证码\"\r\n          >\r\n            <van-button\r\n              slot=\"button\"\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"sendEmail\"\r\n            >\r\n              <span v-show=\"!time\">发送验证码</span>\r\n              <span v-show=\"time\">{{ time }}</span>\r\n            </van-button>\r\n          </van-field>\r\n        </van-cell-group>\r\n      </van-tab>\r\n    </van-tabs>\r\n    <!-- 专职发票 -->\r\n    <van-button\r\n      class=\"button\"\r\n      v-show=\"tabs == 0\"\r\n      type=\"danger\"\r\n      size=\"large\"\r\n      :disabled=\"mask\"\r\n      @click=\"btn_myInvoice\"\r\n    >\r\n      保存\r\n    </van-button>\r\n    <!-- 邮箱 -->\r\n    <!-- <van-button\r\n      class=\"button\"\r\n      v-show=\"mask\"\r\n      type=\"danger\"\r\n      size=\"large\"\r\n      @click=\"mask = false\"\r\n    >\r\n      编辑\r\n    </van-button> -->\r\n    <van-button\r\n      class=\"button\"\r\n      v-show=\"tabs == 1\"\r\n      type=\"danger\"\r\n      size=\"large\"\r\n      :disabled=\"email && emailCode ? false : true\"\r\n      @click=\"saveEmail\"\r\n    >\r\n      保存\r\n    </van-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      invoiceInfo: {}, // 发票信息\r\n      storeName: this.$loadUserInfo().comp.storeName, // 公司名\r\n      address: this.$loadUserInfo().comp.address, // 公司地址\r\n      tabs: 0,\r\n      emailCode: \"\", //  验证码\r\n      mask: true,\r\n      email: \"\", // 电子邮箱\r\n      time: 0,\r\n      flag: true,\r\n      right: '编辑',\r\n      message: '',\r\n      account: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getInvoiceInfo(); //  获取发票信息\r\n  },\r\n  methods: {\r\n    test() {\r\n      if(!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(this.invoiceInfo.tel)){\r\n        this.message = '手机号格式错误'\r\n        return false\r\n      }else if(this.invoiceInfo.account.length < 9 || this.invoiceInfo.account.length > 30){\r\n        this.account = '银行账号格式错误'\r\n        return false\r\n      }else{\r\n        return true\r\n      }\r\n    },\r\n    focusPhone() {\r\n      this.message = \"\";\r\n    },\r\n    focusAccount() {\r\n      this.account = \"\";\r\n    },\r\n    //  保存发票信息\r\n    btn_myInvoice() {\r\n      if(this.test()){\r\n        JNB.query({\r\n          serverName: \"userServer\",\r\n          cls: \"MyInvoiceModule\",\r\n          method: \"saveInvoice\",\r\n          params: {\r\n            bankers: this.invoiceInfo.bankers,\r\n            account: this.invoiceInfo.account,\r\n            tel: this.invoiceInfo.tel\r\n          },\r\n          callback: data => {\r\n            var result = JSON.parse(data);\r\n            if (result.code == 200) {\r\n              this.$toast(result.data);\r\n              this.right = '编辑'\r\n              this.mask = true;\r\n            } else {\r\n              this.$toast.fail(result.message);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    //  获取开票信息\r\n    getInvoiceInfo() {\r\n      JNB.query({\r\n        serverName: \"userServer\",\r\n        cls: \"MyInvoiceModule\",\r\n        method: \"getInvoice\",\r\n        params: {},\r\n        callback: data => {\r\n          data = JSON.parse(data);\r\n          if (data.code == 200 && data.data.length > 0) {\r\n            this.invoiceInfo = data.data[0];\r\n            this.email = this.invoiceInfo.email;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //  切换tabs\r\n    tabsClick(i) {\r\n      this.tabs = i;\r\n      this.mask = true;\r\n      this.right = '编辑'\r\n    },\r\n    //  发送邮箱验证\r\n    sendEmail() {\r\n      let reg = /^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$/;\r\n      if(reg.test(this.email)){\r\n        this.flag = false;\r\n        JNB.query({\r\n          serverName: \"userServer\",\r\n          cls: \"MyInvoiceModule\",\r\n          method: \"applyEmailVaildCode\",\r\n          params: [this.email],\r\n          callback: data => {\r\n            var result = JSON.parse(data);\r\n\r\n            if (result.code == 200) {\r\n              this.$toast(result.data);\r\n            } else {\r\n              this.$toast.fail(result.message);\r\n              this.flag = true;\r\n            }\r\n          }\r\n        });\r\n        this.time = 60;\r\n        var timer = setInterval(() => {\r\n          this.time--;\r\n          if (this.time <= 0) {\r\n            clearInterval(timer);\r\n            this.time = \"\";\r\n            this.flag = true;\r\n          }\r\n        }, 1000);\r\n      }else{\r\n        this.$toast.fail(\"请输入正确的邮箱号！\");\r\n      }\r\n    },\r\n    //  保存邮箱\r\n    saveEmail() {\r\n      JNB.query({\r\n        serverName: \"userServer\",\r\n        cls: \"MyInvoiceModule\",\r\n        method: \"saveEmail\",\r\n        params: [this.emailCode, this.email],\r\n        callback: data => {\r\n          var result = JSON.parse(data);\r\n\r\n          if (data.code == 200) {\r\n            this.$toast(result.data);\r\n            this.$router.go(0);\r\n          } else {\r\n            this.$toast.fail(result.message);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    editInfo() {\r\n      if(this.right == '编辑'){\r\n        this.mask = false\r\n        this.right = '取消'\r\n      }else{\r\n        this.mask = true\r\n        this.right = '编辑'\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.myInvoice {\r\n  background-color: #f8f8f8;\r\n  font-size: 28px;\r\n}\r\n.myInvoice .button {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  width: 90%;\r\n  margin-left: 5%;\r\n  border-radius: 30px;\r\n}\r\n.myInvoice .van-tabs .van-cell-group {\r\n  margin-top: 20px;\r\n}\r\n.myInvoice .van-tabs .van-cell-group .van-field {\r\n  margin-top: 10px;\r\n  border-bottom: 1px solid #f8f8f8;\r\n}\r\n.myInvoice .van-tabs .van-cell-group .van-field .van-button{\r\n  border-radius: 30px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myInvoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myInvoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myInvoice.vue?vue&type=template&id=ee895f38&scoped=true&\"\nimport script from \"./myInvoice.vue?vue&type=script&lang=js&\"\nexport * from \"./myInvoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myInvoice.vue?vue&type=style&index=0&id=ee895f38&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee895f38\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myInvoice.vue?vue&type=style&index=0&id=ee895f38&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./myInvoice.vue?vue&type=style&index=0&id=ee895f38&scoped=true&lang=css&\""],"sourceRoot":""}