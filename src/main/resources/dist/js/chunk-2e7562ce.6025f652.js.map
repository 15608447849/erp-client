{"version":3,"sources":["webpack:///./src/views/user/idea.vue?066a","webpack:///./src/views/user/idea.vue?f990","webpack:///src/views/user/idea.vue","webpack:///./src/views/user/idea.vue?04a6","webpack:///./src/views/user/idea.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_idea_vue_vue_type_style_index_0_id_0c1cf216_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_idea_vue_vue_type_style_index_0_id_0c1cf216_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","title","left-text","left-arrow","on","click-left","$event","$toPage","slot","name","size","color","value","ideaListIndex","ideaList","type","click","showidea","model","callback","$$v","ideashow","expression","_l","item","index","key","staticClass","selectidea","placeholder","rows","maxlength","autosize","message","_v","_s","length","img_select","directives","rawName","src","img_src","viewImg","data-v-fda1b190","imgLoad","vertical","staticRenderFns","ideavue_type_script_lang_js_","data","loading","list","show5","uploadIndex","mask","showImg","disabled","userInfo","$loadUserInfo","methods","val","_this","JNB","_requestNative","url","uploadImage","_this2","query","serverName","cls","method","params","compid","compId","JSON","parse","serverAddress","upUrl","remotePath","feedbackPath","tempList","i","element","slice","push","fileName","uri","stringify","files","json","$toast","fail","user_ideavue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2e7562ce.6025f652.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idea.vue?vue&type=style&index=0&id=0c1cf216&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idea.vue?vue&type=style&index=0&id=0c1cf216&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"意见反馈\",\"left-text\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$toPage(-1)}}},[_c('van-icon',{attrs:{\"slot\":\"left\",\"name\":\"arrow-left\",\"size\":\"24px\",\"color\":\"#666666\"},slot:\"left\"})],1),_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"请选则反馈类型\",\"value\":_vm.ideaListIndex || _vm.ideaListIndex == 0\n          ? _vm.ideaList[_vm.ideaListIndex].type\n          : '反馈'},on:{\"click\":_vm.showidea}}),_c('van-actionsheet',{attrs:{\"title\":\"请选则反馈类型\"},model:{value:(_vm.ideashow),callback:function ($$v) {_vm.ideashow=$$v},expression:\"ideashow\"}},_vm._l((_vm.ideaList),function(item,index){return _c('van-cell',{key:index,staticClass:\"text_center\",attrs:{\"title\":item.type},on:{\"click\":function($event){return _vm.selectidea(index)}}})}),1)],1),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入留言\",\"rows\":\"3\",\"maxlength\":\"150\",\"autosize\":\"\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_c('p',{staticClass:\"area-length\"},[_vm._v(_vm._s(_vm.message.length)+\"/150\")])],1),_c('van-cell-group',[_c('van-field',{attrs:{\"placeholder\":\"手机/邮箱/QQ(选填)\"}})],1),_c('div',{staticClass:\"flex\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"load\",attrs:{\"title\":item.title},on:{\"click\":function($event){return _vm.img_select(index)}}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mask),expression:\"mask\"}],attrs:{\"src\":item.img_src},on:{\"click\":function($event){return _vm.viewImg(index)}}}),_c('div',{staticClass:\"add\"},[_vm._v(\"\\n        +\\n      \")])])}),0),_c('div',{staticClass:\"button\"},[_c('button',{staticClass:\"van-button van-button--danger van-button--large van-button--square\",attrs:{\"data-v-fda1b190\":\"\"},on:{\"click\":function($event){return _vm.imgLoad()}}},[_c('span',{staticClass:\"van-button__text\",attrs:{\"data-v-fda1b190\":\"\"}},[_vm._v(\"提交\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading\"},[_c('div',{staticClass:\"loading_div\"},[_c('van-loading',{attrs:{\"size\":\"36px\",\"vertical\":\"\",\"type\":\"spinner\",\"color\":\"#1989fa\"}}),_c('p',[_vm._v(\"文件上传中...\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"意见反馈\"\r\n      left-text\r\n      left-arrow\r\n      @click-left=\"$toPage(-1)\"\r\n    >\r\n      <van-icon name=\"arrow-left\" size=\"24px\" color=\"#666666\" slot=\"left\" />\r\n    </van-nav-bar>\r\n    <van-cell-group>\r\n      <van-cell\r\n        title=\"请选则反馈类型\"\r\n        @click=\"showidea\"\r\n        :value=\"\r\n          ideaListIndex || ideaListIndex == 0\r\n            ? ideaList[ideaListIndex].type\r\n            : '反馈'\r\n        \"\r\n      />\r\n      <van-actionsheet v-model=\"ideashow\" title=\"请选则反馈类型\">\r\n        <van-cell\r\n          class=\"text_center\"\r\n          v-for=\"(item, index) in ideaList\"\r\n          :key=\"index\"\r\n          @click=\"selectidea(index)\"\r\n          :title=\"item.type\"\r\n        />\r\n      </van-actionsheet>\r\n    </van-cell-group>\r\n\r\n    <van-cell-group>\r\n      <van-field\r\n        v-model=\"message\"\r\n        type=\"textarea\"\r\n        placeholder=\"请输入留言\"\r\n        rows=\"3\"\r\n        maxlength=\"150\"\r\n        autosize\r\n      >\r\n      </van-field>\r\n      <p class=\"area-length\">{{ message.length }}/150</p>\r\n    </van-cell-group>\r\n\r\n    <van-cell-group>\r\n      <van-field placeholder=\"手机/邮箱/QQ(选填)\" />\r\n    </van-cell-group>\r\n\r\n    <div class=\"flex\">\r\n      <div\r\n        v-for=\"(item, index) in list\"\r\n        :key=\"index\"\r\n        :title=\"item.title\"\r\n        class=\"load\"\r\n        @click=\"img_select(index)\"\r\n      >\r\n        <img :src=\"item.img_src\" @click=\"viewImg(index)\" v-show=\"mask\" />\r\n        <div class=\"add\">\r\n          +\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"button\">\r\n      <button\r\n        data-v-fda1b190=\"\"\r\n        @click=\"imgLoad()\"\r\n        class=\"van-button van-button--danger van-button--large van-button--square\"\r\n      >\r\n        <span data-v-fda1b190=\"\" class=\"van-button__text\">提交</span>\r\n      </button>\r\n    </div>\r\n    <div v-show=\"loading\" class=\"loading\">\r\n      <div class=\"loading_div\">\r\n        <van-loading size=\"36px\" vertical type=\"spinner\" color=\"#1989fa\" />\r\n        <p>文件上传中...</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      ideaListIndex: null,\r\n      ideashow: false,\r\n      loading: false,\r\n      message: \"\",\r\n      ideaList: [\r\n        {\r\n          type: \"产品反馈\"\r\n        },\r\n        {\r\n          type: \"物流反馈\"\r\n        }\r\n      ],\r\n      list: [\r\n        {\r\n          img_src: \"\"\r\n        },\r\n        {\r\n          img_src: \"\"\r\n        },\r\n        {\r\n          img_src: \"\"\r\n        },\r\n        {\r\n          img_src: \"\"\r\n        },\r\n        {\r\n          img_src: \"\"\r\n        },\r\n        {\r\n          img_src: \"\"\r\n        }\r\n      ],\r\n\r\n      show5: true,\r\n      uploadIndex: 0,\r\n      mask: false,\r\n      showImg: [],\r\n      disabled: true,\r\n      userInfo: this.$loadUserInfo()\r\n    };\r\n  },\r\n  methods: {\r\n    selectidea(val) {\r\n      (this.ideaListIndex = val), (this.ideashow = false);\r\n    },\r\n    showidea() {\r\n      this.ideashow = true;\r\n    },\r\n\r\n    img_select(index) {\r\n      JNB._requestNative(\"openImageSelect\", url => {\r\n        if (url) {\r\n          this.list[index].img_src = url;\r\n        }\r\n      });\r\n    },\r\n    uploadImage() {\r\n      //获取文件服务器路径\r\n      JNB.query({\r\n        serverName: \"globalServer\",\r\n        cls: \"FileInfoModule\",\r\n        method: \"fileServerInfo\",\r\n        params: { compid: this.$loadUserInfo().compId },\r\n        callback: data => {\r\n          data = JSON.parse(data).data;\r\n          let serverAddress = data.upUrl; // 文件上传的地址\r\n          let remotePath = data.feedbackPath; //文件上传到服务器 ，保存的路径\r\n          // 假设 ，我这里有6张图片  ， 我默认  1.png  就是 第一张图片的文件名\r\n\r\n          let tempList = []; // 临时存储 需要上传的文件的容器  {远程文件保存的路径，远程文件名， 本地文件的存储路径（uri ） }\r\n          for (let i = 0; i < this.list.length; i++) {\r\n            let element = this.list[i];\r\n            if (element.img_src.slice(0, 5) === \"image\") {\r\n              // 因为我们是手机上传， 我们自己定义的协议头  就是image ， 比如， 正常的远程图片：   http：// ， 本机（手机）协议， image：//+相对地址， pc， 浏览器其实给你的是一个 本机相对地址。  video：//\r\n              tempList.push({\r\n                remotePath: remotePath,\r\n                fileName: i + \".png\",\r\n                uri: element.img_src\r\n              });\r\n            }\r\n          }\r\n          if (tempList.length > 0) {\r\n            this.loading = true;\r\n            JNB._requestNative(\r\n              \"fileUpload\",\r\n              JSON.stringify({ url: serverAddress, files: tempList }),\r\n              json => {\r\n                this.$toast.fail(\"暂不支持上传功能!\");\r\n                this.loading = false;\r\n                this.show5 = false;\r\n              }\r\n            );\r\n          }\r\n        }\r\n      });\r\n    },\r\n    viewImg(uploadIndex) {\r\n      if (this.list[uploadIndex].img_src) {\r\n        this.showImg[0] = this.list[uploadIndex].img_src;\r\n        this.mask = true;\r\n      }\r\n    },\r\n    imgLoad() {\r\n      //上传图片\r\n      this.uploadImage();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.add {\r\n  position: absolute;\r\n  left: 75px;\r\n  top: 0px;\r\n  color: silver;\r\n  font-size: 50px;\r\n}\r\n.text_center {\r\n  text-align: center;\r\n}\r\nimg {\r\n  height: 180px;\r\n  width: 180px;\r\n}\r\n.load {\r\n  position: relative;\r\n  margin: 0px;\r\n  text-align: center;\r\n  line-height: 180px;\r\n  height: 180px;\r\n  width: 180px;\r\n  border: 1px solid #e6e6e6;\r\n}\r\n.flex {\r\n  margin: 22px;\r\n  display: flex;\r\n  width: 700px;\r\n  height: 400px;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n.van-button.van-button--danger.van-button--large.van-button--square {\r\n  width: 700px;\r\n  margin: 0 auto;\r\n  border: none;\r\n  border-radius: 8px;\r\n}\r\n.area-length {\r\n  text-indent: 590px;\r\n  color: #999;\r\n}\r\n.van-cell-group.van-hairline--top-bottom {\r\n  margin: 30px;\r\n}\r\n.van-cell:not(:last-child):after {\r\n  border-bottom: none;\r\n}\r\n.button {\r\n  height: 100px;\r\n  width: 700px;\r\n  margin: 0 auto;\r\n}\r\n.loading {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  z-index: 99;\r\n}\r\n.loading_div {\r\n  margin-top: 550px;\r\n  margin-left: 335px;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./idea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./idea.vue?vue&type=template&id=0c1cf216&scoped=true&\"\nimport script from \"./idea.vue?vue&type=script&lang=js&\"\nexport * from \"./idea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./idea.vue?vue&type=style&index=0&id=0c1cf216&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c1cf216\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}